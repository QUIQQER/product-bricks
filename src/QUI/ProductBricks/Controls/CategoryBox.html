{if $this->getAttribute('showTitle') && $this->getAttribute('frontendTitle')}
    <header class="control-header">
    <h1>{$this->getAttribute('frontendTitle')}</h1>
</header>
{/if}

{if $this->getAttribute('content') != ""}
<div class="control-content">
    {$this->getAttribute('content')}
</div>
{/if}

<div class="grid-children">
    <div class="quiqqer-bricks-categorybox-wrapper grid-children-container">
        {foreach $entries as $entry}

        <div class="quiqqer-bricks-categorybox-box">
            {if $imageAsBackground}
                {* Is "Site image" an image or FontAwesome icon? *}
                {if $entry.image|strstr:"image.php"}
                    {* Image *}
                    <div class="quiqqer-bricks-categorybox-box-image"
                         style="background-image: url({image src=$entry.image width=350 onlysrc=true})"
                         title={$entry.title}>
                    </div>
                {else}
                    {* FontAwesome icon *}
                    <div class="quiqqer-bricks-categorybox-box-image" title={$entry.title}>
                        <a href="{$entry.url}">
                            {image src=$entry.image width=350}
                        </a>
                    </div>
                {/if}
            {else}
            <div class="quiqqer-bricks-categorybox-box-image">
                <a href="{$entry.url}">
                    {image src=$entry.image width=350 title=$entry.title}
                </a>
            </div>
            {/if}
            <div class="quiqqer-bricks-categorybox-box-content">
                <h3 class="quiqqer-bricks-categorybox-box-content-header">
                    <a href="{$entry.url}" class="quiqqer-bricks-categorybox-box-content-header-url">
                        {$entry.title}
                    </a>
                </h3>
                <p>{$entry.desc}</p>
                <a href="{$entry.url}" class="btn btn-primary">
                    {locale group="quiqqer/product-bricks" var="brick.control.categoryBox.viewProduct"}
                </a>
            </div>
        </div>

        {/foreach}

    </div>

    {if $this->getAttribute('allCategoriesUrl')}
    <div class="quiqqer-bricks-categorybox-buttonwrapper">
        <a href="{$this->getAttribute('allCategoriesUrl')}" class="btn btn-secondary btn-outline btn-large">
            {locale group="quiqqer/product-bricks" var="brick.control.categoryBox.allCategoriesUrl.button"}
        </a>
    </div>
    {/if}
</div>